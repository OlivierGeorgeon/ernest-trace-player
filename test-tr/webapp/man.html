<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Abstract-Lite User Guide</title>
	<link rel="icon" href="images/favicon.ico" type="image/ico"/>	
    <link rel="StyleSheet"  type="text/css"  href="al.css" >
	<style>
		.screenshot { border: 2px solid #CCCCCC; }
		.code-sample { margin: 5px 0px; position: relative; display: table; border: 1px solid #CCCCCC; background-color: #EEEEEE; padding: 0 13px;}
		h5 { margin-left: 3em; }
		h4 { margin-left: 1em; }
		h3 { margin-left: 0em; }
		h2 { margin-left: 0em; }
		h1 { margin-left: 0em; }
		body { margin-left: 2em;text-indent: 0em }
		p { vertical-align: middle; }
		p * { vertical-align: middle; }
		pre { text-indent: 2 }
		
		#TOC *
		{
			padding-left: 1em;
			text-decoration: none;
			color: #5555BB;
		}
		
		#TOC ul
		{
			list-style-type: none;
			padding-left: 1em;
		}
		
		#TOC > ul
		{
			padding-left: 0;
		}
		table.sample {
			margin:0 auto; 
			border-width: 1px;
			border-right:0px;			
			border-spacing: 0px;
			border-style: solid;
			border-color: gray;
			border-collapse: separate;
			background-color: white;
		}
		table.sample th {
			border-width: 0px;
			border-bottom:1px;
			border-right:1px;
			padding: 2px;
			border-style: solid;
			border-color: gray;
			background-color: white;
			-moz-border-radius: ;
			font-weight: bold; 
		}
		table.sample td {
			border-width: 0px;
			border-right:1px;
			padding: 2px;
			border-style: solid;
			border-color: gray;
			background-color: white;
			-moz-border-radius: ;
		}
	</style>
	
	<script type="text/javascript" src="scripts/auto-toc.js"></script>
	
	<script type="text/javascript" src="scripts/shCore.js"></script>
	<script type="text/javascript" src="scripts/shBrushXml.js"></script>
	 
	<link href="styles/shCore.css" rel="stylesheet" type="text/css" />
	<link href="styles/shThemeDefault.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript">
		SyntaxHighlighter.all()
	</script>
</head>
<body>
	
	<h1>Abstract-Lite User Guide</h1>
	
		<div class="pathBar">
		<table width="100%"><tr><td>
			You are here :
			<a href=".">Abstract Lite</a>
			<strong> » </strong>
			User Guide
			</td>
			<td style="text-align: right;">
			</td>
			</tr>
		</table>
	</div>
	
	<div class="code-sample" style="color: gray;padding: 2px;">Table of contents<br/><div id="TOC"></div></div>
	
	<p>Abstract-Lite offers an interactive interface to visualize your agents' activity traces.
	Abstract-Lite is a simpler version of <a href="http://liris.cnrs.fr/abstract">ABSTRACT</a> that does not use ontologies nor SPARQL queries.
	Instead, Abstract-Lite uses XPATH instructions and XSL stylesheets to help you customize your visualizations.
	Abstract-Lite can display the traces generated by your agents in real time.</p>
	
	<p>Section 1 (Overview) introduces Abstract-Lite's general features.
	Section 2 (Customize the trace visualization) explains how to interactively customize the visualization through the customization panels.
	It requires background knowledge of XPATH.</p> 
	
	<p><a href="man2.html">Page 2</a> presents Abstract-Lite's advanced features. On this page,
	Section 3 (Customization with XSL Stylesheets) introduces the usage of XSL stylesheets. It requires background knowledge of XML and XSL. 
	Section 4 (Generate the trace in real time) explains how to implement the tracing functions in a Java agent.</p> 
	
	<h3>1. Overview</h3>
	
		<p>Abstract-Lite has a client/server architecture. You can either install your own Abstract-Lite server by following the <a href="install.html">installation procedure</a>, 
		or use our <a href="http://134.214.128.53/abstract/lite/">Abstract-Lite Server</a> hosted by the <a href="http://liris.cnrs.fr">Liris Lab</a>.  
		It has been successfully tested with recent versions of Firefox and Chrome, but does not yet support other browsers.</p>

    	<p>Open the <a href="index.php">Abstract-Lite home page</a> with Firefox or Chrome.
		<p>Click <i>Register</i> to create a new user.</p>
		<p>Log in with the user you have created.</p>
		<p>You obtain the page in Figure 1.</p>
		
		<p style="text-align: center;">
		<img class="screenshot" src="images/figure1-ALInterface.png"  /><br/>
		<i>Figure 1: Abstract-Lite client interface</i>
		</p>

		<p>1. The <i>Menu Panel</i> (top) provides administrative commands.</p>
		<p>2. The <i>Trace List Panel</i> (right) lets you select a trace from the list. 
		The trace list is initialized with a demo trace when your account is created. 
		The trace list is further populated when you upload new traces as xml files, or when your agent sends new traces via http (the "real time" feature). 
			
		<p>3. The <i>Customization Panel</i> (central column) lets you manage your different <i>customizations</i>
		that specify how your traces are visualized.
		A customization is a set of <i>visualization rules</i>.
		In this panel, the <i>Save customization as</i> form lets you name your customizations and save them. 
		The <i>Customization List</i> (empty here) lets you reload a customization.</p>	
		
		<p>4. The <i>Visualization Rules Panel</i> (column on the left) lets you define your visualization rules. 
		A visualization rule is a rule that defines a graphical symbol to represent an aspect of an event.
		In this panel, the <i>Instantaneous Symbol form</i> and the <i>Interval Symbol form</i> let you create new visualization rules as explained in Section 2.</p> 

	<h3>2. Customize the trace visualization</h3>
	
		<p>Click the demo-s trace in the trace list. This makes the player appear. 
		In the player, click the <i>Play</i> button to start playing the trace.
		The trace is displayed as shown in Figure 2.</p>
		
		
		<p style="text-align: center;">
			<img class="screenshot" src="images/Figure2-DemoTrace.png" /><br />
			<i>Figure 2: The trace player</i>
		</p>
		
		<p>Click the <i>Pause</i> button to stop playing the trace.</p> 
		<p>Click the <i>plus</i> and <i>minus</i> buttons to zoom in and out over the horizontal axis.</p> 
		<p>Click the <i>P</i> button to open a printable copy of the trace in a new window. Use your browser's print function to print the trace from this new window.</p>
		
		<p>You can drag the trace to the left or to the right with your mouse by clicking/dragging within the player area.</p> 
		<p>You can click on a symbol to display the data attached to the event related to this symbol. 
		The attached data appears in a new box just below the player. This box is called the <i>Event Data box</i>.</p>
			
		<h4>Principle of visualization rules</h4>
		
			<p>You define the visualization rules through the <i>Instantaneous Symbol form</i> or the <i>Interval Symbol form</i> in the visualization rule panel. 
			Note that you can only access these forms while the trace is playing, and the changes take effect immediatly during playing.
			Each of the input fields in these forms takes an XPATH expression. 
			Abstract-Lite interprets the XPATH expressions in the context of each event in the trace. 
			Each event contains an XML tree that you can freely define when generating the trace. 
			Please have a look at the XML structure of our demo trace by downloading the demo trace 
			(using the downward arrow next to the identifier of the trace in the trace list).</p>
			
			<p>Abstract-Lite applies the visualization rules to each event and interprets the result to generate graphical symbols in the player. 
			The field <i>Condition</i> determines whether the symbol is drawn or not.</p>
			
		<h4>Manipulate the list of visualization rules</h4>

			<p>On creation, your account was initialized with the three visualization rules shown in Figure 3.</p>
			
			<p style="text-align: center;">
				<img class="screenshot" src="images/figure3-rules.png" /><br />
				<i>Figure 3: The visualization rules</i>
			</p>

			<p>Click ⎘ (next to the rule identifier) to copy the fields of a specific rule to the symbol form. 
			This feature is used to edit a rule. 
			To modify a rule, just edit it, modify it, save the new version, and delete the previous version from the list.</p>
			<p>Click ✗ to delete a rule.</p>
			<p>A new rule is saved and added to the list when you click on the <i>Send</i> button in the symbol form.
			The player is also updated to reflect the new set of rules.</p>
			
				
		<h4>Example of instantaneous symbols</h4>
		
			<p>In our demo trace, the events contain a field named <i>primitive_enacted_schema</i>.
			This field indicates the action that the agent has just done ('^': turn left, 'v': turn right, '>': move forward). 
			The first demo rule is responsible for drawing a green triangle pointing upward for each <i>turn left</i> event: </p>
			
			<p style="text-align: center;">
				<img class="screenshot" src="images/Figure4-Instantaneous.png" /><br />
				<i>Figure 4: Editing the visualization rule of an instantaneous symbol.</i>
			</p>
			
			<p>This rule specifies that the symbol 'square' should be drawn for each event whose <i>type</i> field is equal to the string 'OpenChannel'.
			This symbol should be drawn in green ('00FF00') and located 80 pixels below the center of the player.

			<p>Note that despite the term <i>instantaneous</i>, instantaneous symbols have a width that can be used to represent the event's duration 
			(provided that the event's duration was recorded in your trace). 
			To do so, customize the <i>X scale</i> field with an expression that evaluates as the event's duration using the information available in your trace.</p> 
			
		<h4>Example of interval symbols</h4>
		
			<p>An interval symbol is a symbol (e.g., a line) that represents the interval between a begin event and an end event.</p>
		
			<p>The <i>Interval Symbol form</i> works similarly to the <i>Instantaneous Symbol form</i>. 
			For example, the third rule draws the lines that represent the interval from an event whose property 'begin' equals '1386520923582'. 
			to an event whose property 'begin' equals '1386520980573'.</p>
		
			<p style="text-align: center;">
				<img class="screenshot" src="images/Figure5-Interval.png" /><br />
				<i>Figure 7: Editing the visualization rule of an interval symbol.</i>
			</p>
			
			<p>All the fields accept XPath expressions, meaning that you can specify complex computations based on the properties of your events.
			To facilitate the specification of the visualization rules, we have defined the additional function my:ifthenelse.</p>
		
				<pre class="code-sample">my:ifthenelse(&lt;condition&gt;, &lt;value if true&gt;, &lt;value if false&gt;)</pre>
				<p>If the first parameter is true, this function returns the value of the second parameter. If the first parameter is false, this function returns the value of the third parameter.</p>
				
				<p>Note that you can specify that an interval symbol will change its appearance depending on its ending condition.
				This is useful when the trace is displayed in real time.
				For example, an interval symbol can be displayed in a blue color as long as it is not yet ended, 
				and turn red or green depending on how it ends.</p>
			
		<h4>Trace file format</h4>
		
			<p>You can upload your traces through the <i>Upload trace</i> function in the <i>Trace list</i>.
		
			<p>Your trace file should have the tags &lt;trace id="<i>string</i>"&gt;, &lt;slice date = "<i>integer</i>"&gt;, &lt;event date="<i>integer</i>"&gt;, and &lt;type&gt;. 
			The events with the same date should be grouped within the same tag &lt;slice&gt;. Table 1 gives a minimal example file, which can be downloaded from <a href="minimal.xml">here</a> for test.</p>
			
			<p style="text-align: center;font-style:italic;">Table 1: Example trace file.</p>

			<pre class="brush: xml">
			&lt;trace id="minimal"&gt;
				&lt;slice date = "1"&gt;
					&lt;event date="1"&gt;
						&lt;type&gt;foo1&lt;/type&gt;
					&lt;/event&gt;
					&lt;event date="1"&gt;
						&lt;type&gt;foo2&lt;/type&gt;
					&lt;/event&gt;
				&lt;/slice&gt;
				&lt;slice date = "2"&gt;
					&lt;event date="2"&gt;
						&lt;type&gt;foo1&lt;/type&gt;
					&lt;/event&gt;
				&lt;/slice&gt;
			&lt;/trace&gt;</pre>
			
	<h3>Advanced Features</h3>
	
	<p>Please visit <a href="man2.html">Page 2</a> for Abstract-Lite advanced features.</p>
	
	<h3>References</h3>
	
		<p>To cite Abstract and Abstract-Lite, please use this reference:</p>
	
		<p><a href="http://www.oliviergeorgeon.com/">Olivier L. Georgeon</a>, <a href="http://liris.cnrs.fr/alain.mille/">Alain Mille</a>, Thierry Bellet, <a href="http://liris.cnrs.fr/~bmathern/">Benoit Mathern</a>, and <a href="http://www.frankritter.com/ritter.html">Frank E. Ritter</a> (2012). <a href="http://liris.cnrs.fr/abstract/Georgeono2010-abstract.pdf">Supporting Activity Modeling from Activity Traces</a>.  Expert Systems 29(3), 261-275. <a href="http://onlinelibrary.wiley.com/doi/10.1111/j.1468-0394.2011.00584.x/abstract">doi:10.1111/j.1468-0394.2011.00584.x</a>.</p> 
	
		<p>To cite the usage of Abstract-Lite for autonomous-agent behavioral analysis, please use this reference:</p>
	
		<p><a href="http://www.oliviergeorgeon.com/">Olivier L. Georgeon</a> and <a href="http://science.slc.edu/%7Ejmarshall/">James B. Marshall</a> 2013. <a href="http://liris.cnrs.fr/ideal/doc/georgeon2013-IJMC7.pdf">Demonstrating sensemaking emergence in artificial agents: A method and an example</a>. <a href="http://www.worldscientific.com/worldscinet/ijmc">International Journal of Machine Consciousness</a>, 5(2), 131-144. <a href="http://dx.doi.org/10.1142/S1793843013500029">doi:10.1142/S1793843013500029</a>.</p>
	
	<h3>Contact</h3>
	
		<p>Abstract-Lite was developed by Pierre-Yves Ronot at the Liris lab in Lyon (France), as part of the
		<a href="http://liris.cnrs.fr/abstract">ABSTRACT project</a> and of the <a href="http://liris.cnrs.fr/ideal">IDEAL project</a>.</p>
		<p>For any question, comment, feedback, congratulation message, or proposition of collaboration, please contact <a href="mailto: ronot DOTT py AT gmail DOT com">Pierre-Yves Ronot </a> and <a href="mailto: olivier DOT georgeon AT liris DOT cnrs DOT fr">Olivier Georgeon</a>. 

</body>
</html>
